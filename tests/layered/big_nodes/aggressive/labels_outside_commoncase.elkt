/*******************************************************************************
 * Copyright (c) 2018 Kiel University and others.
 * 
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * SPDX-License-Identifier: EPL-2.0
 *******************************************************************************/

// the example contains several big nodes whose labels will be distributed 
// across several dummy nodes internally. At some point, these labels 
// must be re-combined properly

algorithm: layered
layering.wideNodesOnMultipleLayers: AGGRESSIVE

node n1 {
	layout [ size: 50, 50 ]
	portConstraints: FIXED_SIDE
	label L1: "n1"
	port p11 {
		layout [ size: 10, 10 ]
		side: EAST
	}
	port p12 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
node n2 {
	layout [ size: 50, 50 ]
	portConstraints: FIXED_SIDE
	label L2: "n2"
	port p21 {
		layout [ size: 10, 10 ]
		side: WEST
	}
	port p22 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
node n4 {
	layout [ size: 50, 50 ]
	portConstraints: FIXED_SIDE
	label L3: "n4"
	port p41 {
		layout [ size: 10, 10 ]
		side: WEST
	}
	port p42 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
node n5 {
	layout [ size: 50, 50 ]
	portConstraints: FIXED_SIDE
	label L4: "n5"
	port p51 {
		layout [ size: 10, 10 ]
		side: WEST
	}
	port p52 {
		layout [ size: 10, 10 ]
		side: WEST
	}
}
node bignode1 {
	layout [ size: 260, 50 ]
	nodeLabels.placement: "[H_CENTER, V_CENTER, OUTSIDE]"
	portConstraints: FIXED_SIDE
	label L5: "bignodeO H_CENTER V_CENTER"
	port b11 {
		layout [
			position: -10, 20
			size: 10, 10
		]
	}
	port b12 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
node bignode2 {
	layout [ size: 260, 50 ]
	nodeLabels.placement: "[H_RIGHT, V_TOP, OUTSIDE]"
	portConstraints: FIXED_SIDE
	label L6: "bignodeO H_RIGHT V_TOP"
	port b21 {
		layout [
			position: -10, 20
			size: 10, 10
		]
	}
	port b22 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
node bignode3 {
	layout [ size: 260, 50 ]
	nodeLabels.placement: "[H_RIGHT, V_BOTTOM, OUTSIDE]"
	portConstraints: FIXED_SIDE
	label L7: "bignodeO H_RIGHT V_BOTTOM"
	port b31 {
		layout [
			position: -10, 20
			size: 10, 10
		]
	}
	port b32 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
node bignode4 {
	layout [ size: 260, 50 ]
	nodeLabels.placement: "[H_LEFT, V_TOP, OUTSIDE]"
	portConstraints: FIXED_SIDE
	label L8: "bignodeO H_LEFT V_TOP"
	port b41 {
		layout [
			position: -10, 20
			size: 10, 10
		]
	}
	port b42 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
node bignode5 {
	layout [ size: 260, 50 ]
	nodeLabels.placement: "[H_LEFT, V_BOTTOM, OUTSIDE]"
	portConstraints: FIXED_SIDE
	label L9: "bignodeO H_LEFT V_BOTTOM"
	port b51 {
		layout [
			position: -10, 20
			size: 10, 10
		]
	}
	port b52 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
node bignode6 {
	layout [ size: 260, 50 ]
	nodeLabels.placement: "[H_CENTER, V_TOP, OUTSIDE]"
	portConstraints: FIXED_SIDE
	label L10: "bignodeO H_CENTER V_TOP"
	port b61 {
		layout [
			position: -10, 20
			size: 10, 10
		]
	}
	port b62 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
node bignode7 {
	layout [ size: 260, 50 ]
	nodeLabels.placement: "[H_CENTER, V_BOTTOM, OUTSIDE]"
	portConstraints: FIXED_SIDE
	label L11: "bignodeO H_CENTER V_BOTTOM"
	port b71 {
		layout [
			position: -10, 20
			size: 10, 10
		]
	}
	port b72 {
		layout [ size: 10, 10 ]
		side: EAST
	}
}
edge E1: n1.p11 -> n5.p52
edge E2: n1.p12 -> n2.p21
edge E3: n2.p22 -> bignode1.b11
edge E4: n2.p22 -> bignode2.b21
edge E5: n2.p22 -> bignode3.b31
edge E6: n2.p22 -> bignode4.b41
edge E7: n2.p22 -> bignode5.b51
edge E8: n2.p22 -> bignode6.b61
edge E9: n2.p22 -> bignode7.b71
edge E10: n4.p42 -> n5.p51
edge E11: bignode1.b12 -> n4.p41
edge E12: bignode2.b22 -> n4.p41
edge E13: bignode3.b32 -> n4.p41
edge E14: bignode4.b42 -> n4.p41
edge E15: bignode5.b52 -> n4.p41
edge E16: bignode6.b62 -> n4.p41
edge E17: bignode7.b72 -> n4.p41
